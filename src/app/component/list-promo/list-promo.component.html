<app-admin-dash></app-admin-dash>

<main class="offcanvas-enabled" style="padding-top: 5rem;">
  <section class="ps-lg-4 pe-lg-3 pt-4">
    <div class="px-3 pt-2">

    <!-- <form class="form-inline">
        <div class="form-group mx-sm-3 mb-2 mt-2 ">
        <label>Nom Produit</label>
        <input type="text" class="form-control mb-3" [(ngModel)]="nomProduit" name="nomProduit" >
        <button type="submit" (click)="rechercherProds()" class="btn btn-primary mb-2 ml-2 ">Rechercher</button>
        </div>
        </form>

        <form class="form-inline mb-5 ">
            <div class="form-group mx-sm-3 mb-2 mt-2 ">
            <label>Nom Produit en tapant</label>
            <input class="form-control mt-3" #searchTerm (keyup)="onKeyUp(searchTerm.value)">
            </div>
            </form> -->

            <form class="form-inline">
                <div class="form-group mx-sm-3 mb-2 mt-2 ">
                <label>Nom Produit en tapant</label>
                <input #nom [(ngModel)]="searchTerm" name="searchTerm" class="form-control" >
                </div>
                </form>

    <div class="card shadow mb-4">
            <div class="card-body">
                <table class="table table-striped">
                    <thead>
                        <tr>
                        <th>id</th><th>Nom</th><th>promo</th><th>prix en promo </th><th>Origin Prix</th>
                        </tr>
                    </thead>
                   <!--  <tbody *ngFor="let p of produits"> -->
                    <!-- <tbody *ngFor="let p of produits | searchFilter: searchTerm "> -->
                        <tbody *ngFor="let p of produits | filter:searchTerm ">
                        <tr >
                        <td>{{p.idProduit}}</td>
                        <td>
                            <img class="card-img-top" [src]="p.productImages[0].url" alt="Card image cap" style="width: 50px; height: 50px;">
                            {{p.nomProduit}}
                            
                        </td>
                        <td>
                            <span *ngIf="p.promo" class="badge bg-success">En Promotion</span>
                            <span *ngIf="!p.promo" class="badge bg-primary">Prix origin</span></td>

                            <td class="text-center">
                            <span *ngIf="p.promo" class="badge bg-success">{{p.promo}} DT</span>
                            <span *ngIf="!p.promo" class="badge bg-danger">-</span>
                            </td>

                            

                        <td>
                            <del *ngIf="p.promo" class="text-accent  danger">{{p.prixProduit}} DT</del>
                           
                            <span *ngIf="!p.promo" >{{p.prixProduit}} DT</span>
                           
                            
                        </td>
                      
                        <td><a class="btn btn-accent" [routerLink]="['/promo',p.idProduit]">modifier prix de promotion</a></td>
                       
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>
</div>


</section>
</main>