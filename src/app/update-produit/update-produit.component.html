<app-admin-dash></app-admin-dash>

<main class="offcanvas-enabled" style="padding-top: 5rem;">
  <section class="ps-lg-4 pe-lg-3 pt-4">
    <div class="px-3 pt-2">

    <div>
    <h2>Modifier un Produit :</h2>
    </div>

    <form >
    <div class="col-sm-2 col-md-2 col-lg-12">
        
        <input hidden type="text" [(ngModel)]="currentProduit.idProduit"
        name="idProduit" class="form-control">
    </div>
    <div class="col-sm-4 col-md-4 col-lg-12" >
        <label >Nom Produit</label>
        <input type="text"[(ngModel)]= "currentProduit.nomProduit"
        name="nomProduit" class="form-control">
    </div>
    <div class="col-sm-2 col-md-2 col-lg-12">
        <label >Prix Produit</label>
        <input type="number" [(ngModel)]= "currentProduit.prixProduit"
        name="prixProduit" class="form-control">
    </div>
    <div class="col-sm-2 col-md-2 col-lg-12">
        <label >Prix promo</label>
        <input type="number" [(ngModel)]= "currentProduit.promo"
        name="promo" class="form-control">
    </div>
    <div class="col-sm-4 col-md-4 col-lg-12">
    <label >Date cr√©ation</label>
    <input type="date" [ngModel]="currentProduit.dateCreation | date: 'yyyy-MM-dd'"(ngModelChange)=" currentProduit.dateCreation= $event" name="dateCreation" class="form-control">
    </div>
    
    <div class="col-sm-2 col-md-2 col-lg-12">
        <label >image</label>
        <input type="text" [(ngModel)]= "currentProduit.imgurl"
        name="imgurl" class="form-control">
    </div>

   <div class="col-sm-4 col-md-4 col-lg-12">
            <label >Categorie</label>
        <select class="form-control form-control" id="idCategory" name="idCategory" [(ngModel)]="updatedCatId">
            <option *ngFor="let c of categories" [value]="c.idCategory" >
            {{c.nomCategory}}
            </option>
        </select>
    </div> 
    <div class="mb-md-5 mb-4 pb-md-0 pb-2">
        <h2 class="h5 mb-2 pb-1">Upload file</h2>
        <p class="mb-4 fs-sm">File types supported: PNG, JPG, GIF, WEBP, MP3 or MP4. Max size: 100mb.</p>
        <!-- display images-->
        <div class="row">

            <div class="col-2" *ngFor="let file of currentProduit.productImages; let i = index;">
                <img [src]="file.url" style="width: 100px; height:100px;">
                <span class="badge bg-danger" (click)="removeImages(i)">X</span>
            </div>

        </div>
         <!-- Drag and drop file upload-->
        <div class="file-drop-area" appDrag (files)="fileDropped($event)">
            
          <a (click)="selectFile.click()" class="file-drop-icon ci-cloud-upload">
            
          </a><span class="file-drop-message">Drag and drop here to upload</span>
        </div>
        <!--   <input class="file-drop-input" type="file" multiple value="select" #selectFile  (change)="onFileSelected($event)"> -->
        <input class="file-drop-input" type="file" multiple value="select" #selectFile  (change)="onFileSelected($event)">
        
      </div>
    <div class="mt-2">
    <button type="submit" (click)="updateProduit()" class="btn btn-success">Modifer</button>
    </div>
    </form>
    </div>



</section>
</main>